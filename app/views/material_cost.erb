<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Home</title>
    <link rel="stylesheet" href="/css/bahunya.css" />
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.5.0/Chart.min.js"></script>
</head>
<body> 
    <style>
        .box {
            display:flex;
            justify-content:center;
        }

        .a, .b {
            margin-right:auto;
        }
    </style>

    <div class="box"><h3 class="a">Logo</h3><h2 class="b">Marketing Material Costs Report</h2></div>
        <%@result.each do |office_title, office| %>
            <h4 style="float: right;"><%= @total[office_title] %></h4>
            <h2><%= office_title %></h2>
            <table>
                <%office.each do |material_name, cost| %>
                    <tr>
                        <td><%= material_name %></td>
                        <td><%= cost %></td>
                    </tr>
                <% end %>
            </table>

            <canvas id="<%= office_title %>" width="400" height="150"></canvas>
                <script>
                    new Chart(document.getElementById("<%= office_title %>"), {
                        type: 'doughnut',
                        data: {
                            labels: <%= office.keys %>,
                            datasets: [
                                {
                                    backgroundColor: ['rgb(255, 99, 132)',
                                        'rgb(255, 205, 86)',
                                        'rgb(54, 162, 235)',
                                        'rgb(75, 192, 192)',
                                        'rgb(255, 159, 64)',
                                        'rgb(153, 102, 255)',
                                        'rgb(201, 203, 207)'],
                                    data: <%= office.values %>
                                }
                            ]
                        },
                        options: {
                            title: {
                                display: true,
                                text: 'Marketing Material Costs By Type',
                                fontColor: 'white',
                                fontSize: 19
                            },
                           legend: {
                                labels: {
                                    fontColor: "white",
                                    fontSize: 19
                                }
                            }
                        }
                    });
            </script>

        </div>
        <% end %>
</body>
</html>